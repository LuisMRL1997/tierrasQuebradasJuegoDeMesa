<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler - Continuar o Nuevo Juego</title>
    <link rel="stylesheet" href="welcome.css"> <!-- Estilos generales -->
    <link rel="stylesheet" href="boton.css"> <!-- Estilos para los botones -->
    <script type="module" src="funcionalidades/reinicio.js" defer></script> <!-- Funcionalidades de reinicio -->
</head>
<body class="continua-nuevo">
    <h1>¿Qué deseas hacer?</h1>
    <button id="continuar">Continuar Partida</button>
    <button id="nuevoJuego">Empezar Juego Nuevo</button>

    <!-- Aquí cargamos el footer con el botón de música -->
    <div id="footer-container"></div>

    <script src="funcionalidades/bgm.js"></script> <!-- Música de fondo -->
    <script type="module">
        import { reiniciarJuego } from './funcionalidades/reinicio.js'; // Importar función de reinicio

        // Esperar a que el DOM esté completamente cargado
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('continuar').addEventListener('click', () => {
                window.location.href = 'game.html'; // Redirigir a la página de juego
            });

            document.getElementById('nuevoJuego').addEventListener('click', () => {
                reiniciarJuego(); // Iniciar reinicio de juego
            });

            // Cargar contenido del footer (con el botón de música)
            fetch('menus/footer/footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-container').innerHTML = data;

                    // Actualizar ícono de música después de cargar el footer
                    window.updateMusicIcon();
                })
                .catch(error => {
                    console.error("Error al cargar el footer:", error);
                });
        });
    </script>
</body>
</html>